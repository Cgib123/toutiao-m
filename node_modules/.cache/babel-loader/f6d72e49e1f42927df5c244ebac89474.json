{"remainingRequest":"C:\\Users\\Administrator\\Desktop\\toutiao-m\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Administrator\\Desktop\\toutiao-m\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Administrator\\Desktop\\toutiao-m\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Administrator\\Desktop\\toutiao-m\\src\\views\\home\\components\\channel-edit.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Administrator\\Desktop\\toutiao-m\\src\\views\\home\\components\\channel-edit.vue","mtime":1614751161877},{"path":"C:\\Users\\Administrator\\Desktop\\toutiao-m\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\toutiao-m\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Administrator\\Desktop\\toutiao-m\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Administrator\\Desktop\\toutiao-m\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLmluY2x1ZGVzLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzovVXNlcnMvQWRtaW5pc3RyYXRvci9EZXNrdG9wL3RvdXRpYW8tbS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6L1VzZXJzL0FkbWluaXN0cmF0b3IvRGVza3RvcC90b3V0aWFvLW0vbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBnZXRBbGxDaGFubmVscywgYWRkVXNlckNoYW5uZWwsIGRlbGV0ZVVzZXJDaGFubmVsIH0gZnJvbSAnQC9hcGkvY2hhbm5lbCc7IC8vIHZ1ZXjnmoTmmKDlsITmlrnms5XvvIzmiorlrrnlmajmmKDlsITliLDlvZPliY3nu4Tku7bkuK3vvIzojrflj5blvZPliY3nlKjmiLfnmbvpmYbnirbmgIEKCmltcG9ydCB7IG1hcFN0YXRlIH0gZnJvbSAndnVleCc7CmltcG9ydCB7IHNldEl0ZW0gfSBmcm9tICdAL3V0aWxzL3N0b3JhZ2UnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0NoYW5uZWxFZGl0JywKICBjb21wb25lbnRzOiB7fSwKICBwcm9wczogewogICAgbXlDaGFubmVsczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICAvLyDmjqXmlLbmlbDmja4KICAgIGFjdGl2ZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYWxsQ2hhbm5lbHM6IFtdLAogICAgICAvLyDmiYDmnInnmoTpopHpgZMKICAgICAgaXNFZGl0OiBmYWxzZSwKICAgICAgLy8g5oiR55qE6aKR6YGT5YWz6Zet5oyJ6ZKuCiAgICAgIGZpZXhkQ2hhbm5lbHM6IFswXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcFN0YXRlKFsndXNlciddKSksIHt9LCB7CiAgICAvLyDmjqjojZDpopHpgZPorqHnrpflsZ7mgKcKICAgIC8vIOiuoeeul+WxnuaApyDkvJrop4LmtYvlhoXpg6jkvp3otZbmlbDmja7nmoTlj5jljJYKICAgIC8vIOiLpeaVsOaNruWPmOWMliDliJnorqHnrpflsZ7mgKfkvJrph43mlrDmiafooYwKICAgIHJlY29tbWVuZENoYW5uZWxzOiBmdW5jdGlvbiByZWNvbW1lbmRDaGFubmVscygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiB0aGlzLmFsbENoYW5uZWxzLmZpbHRlcihmdW5jdGlvbiAoY2hhbm5lbCkgewogICAgICAgIHJldHVybiAhX3RoaXMubXlDaGFubmVscy5maW5kKGZ1bmN0aW9uIChteUNoYW5uZWwpIHsKICAgICAgICAgIHJldHVybiBteUNoYW5uZWwuaWQgPT09IGNoYW5uZWwuaWQ7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogICAgLyogIHJlY29tbWVuZENoYW5uZWxzICgpIHsNCiAgICAgICBjb25zdCBjaGFubmVscyA9IFtdDQogICAgICAgdGhpcy5hbGxDaGFubmVscy5mb3JFYWNoKGNoYW5uZWwgPT4gew0KICAgICAgICAgLy8gZmluZCDpgY3ljobmlbDnu4TvvIwg5om+5Yiw5ruh6Laz5p2h5Lu255qE5YWD57Sg6aG5DQogICAgICAgICBjb25zdCByZXQgPSB0aGlzLm15Q2hhbm5lbHMuZmluZChteUNoYW5uZWwgPT4gew0KICAgICAgICAgICByZXR1cm4gbXlDaGFubmVsLmlkID09PSBjaGFubmVsLmlkDQogICAgICAgICB9KQ0KICAgICAgICAgLy8g5aaC5p6c5oiR55qE6aKR6YGT5LiN5YyF5ous6K+l6aKR6YGT77yM5YiZ5pS26ZuG5Yiw5o6o6I2Q6aKR6YGT5LitDQogICAgICAgICBpZiAoIXJldCkgew0KICAgICAgICAgICBjaGFubmVscy5wdXNoKGNoYW5uZWwpDQogICAgICAgICB9DQogICAgICAgfSkNCiAgICAgICByZXR1cm4gY2hhbm5lbHMNCiAgICAgfSAqLwoKICB9KSwKICB3YXRjaDoge30sCiAgLy8g5ZyoY3JlYXRlZOS4reivt+axguiwg+eUqAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmxvYWRBbGxDaGFubmVscygpOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWPkemAgeivt+axggogICAgbG9hZEFsbENoYW5uZWxzOiBmdW5jdGlvbiBsb2FkQWxsQ2hhbm5lbHMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3lpZWxkJGdldEFsbENoYW5uZWxzLCBkYXRhOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIGdldEFsbENoYW5uZWxzKCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIF95aWVsZCRnZXRBbGxDaGFubmVscyA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhID0gX3lpZWxkJGdldEFsbENoYW5uZWxzLmRhdGE7CiAgICAgICAgICAgICAgICBfdGhpczIuYWxsQ2hhbm5lbHMgPSBkYXRhLmRhdGEuY2hhbm5lbHM7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDg7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwoKICAgICAgICAgICAgICAgIF90aGlzMi4kdG9hc3QoJ+aVsOaNruivt+axguWksei0pScpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgbnVsbCwgW1swLCA4XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvbkFkZENoYW5uZWw6IGZ1bmN0aW9uIG9uQWRkQ2hhbm5lbChjaGFubmVsKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMy5teUNoYW5uZWxzLnB1c2goY2hhbm5lbCk7IC8vIOaVsOaNruaMgeS5heWMluWkhOeQhgoKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzMy51c2VyKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gMjsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBhZGRVc2VyQ2hhbm5lbChbewogICAgICAgICAgICAgICAgICBpZDogY2hhbm5lbC5pZCwKICAgICAgICAgICAgICAgICAgLy8g6aKR6YGTSUQKICAgICAgICAgICAgICAgICAgc2VxOiBfdGhpczMubXlDaGFubmVscy5sZW5ndGggLy8g5bqP5Y+3CgogICAgICAgICAgICAgICAgfV0pOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5wcmV2ID0gNzsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi50MCA9IF9jb250ZXh0MlsiY2F0Y2giXSgyKTsKCiAgICAgICAgICAgICAgICBfdGhpczMuJHRvYXN0KCfkv53lrZjlpLHotKXvvIzor7fnqI3lkI7ph43or5UgJyk7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICAvLyDmnKrnmbvlvZXnirbmgIEg5oqK5pWw5o2u5a2Y5YKo5Yiw5pys5ZywCiAgICAgICAgICAgICAgICBzZXRJdGVtKCdUT1VUSUFPX0NIQU5ORUxTJywgX3RoaXMzLm15Q2hhbm5lbHMpOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzIsIDddXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9uTXlDaGFubmVsQ2xpY2s6IGZ1bmN0aW9uIG9uTXlDaGFubmVsQ2xpY2soY2hhbm5lbCwgaW5kZXgpIHsKICAgICAgaWYgKHRoaXMuaXNFZGl0KSB7CiAgICAgICAgLy8gMS7lpoLmnpzmmK/lm7rlrprpopHpgZPliJks5LiN5Yig6ZmkCiAgICAgICAgaWYgKHRoaXMuZmlleGRDaGFubmVscy5pbmNsdWRlcyhjaGFubmVsLmlkKSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0gLy8gMi7liKDpmaTpopHpgZPpobkKCgogICAgICAgIHRoaXMubXlDaGFubmVscy5zcGxpY2UoaW5kZXgsIDEpOyAvLyAzLiDliKDpmaTpopHpgZPmmK/mv4DmtLvpobnkuYvliY3nmoQKICAgICAgICAvLyDnvJbovpHnirbmgIEg5Yig6Zmk6aKR6YGTIGlzRWRpdD10cnVlCiAgICAgICAgLy8g5Y+C5pWw5LiA77ya6KaB5Yig6Zmk55qE57Si5byVCiAgICAgICAgLy8g5Y+C5pWw5LqM77ya6KaB5Yig6Zmk55qE5Liq5pWw77yM5LiN5oyH5a6a5YiZ5Yig6Zmk5Yiw5pyA5ZCOCgogICAgICAgIGlmIChpbmRleCA8PSB0aGlzLmFjaW5kZXh0aXZlKSB7CiAgICAgICAgICAvLyDorqnmv4DmtLvnmoTntKLlvJUtMQogICAgICAgICAgdGhpcy4kZW1pdCgndXBkYXRlLWFjdGl2ZScsIHRoaXMuYWN0aXZlIC0gMSwgdHJ1ZSk7CiAgICAgICAgfSAvLyA0LuaMgeS5heWMluWkhOeQhgoKCiAgICAgICAgdGhpcy5kZWxldGVDaGFubmVsKGNoYW5uZWwpOwogICAgICB9IGVsc2UgewogICAgICAgIC8vIOmdnue8lui+keeKtuaAgSDliIfmjaLpopHpgZMgIGlzRWRpdD1mYWxzZQogICAgICAgIC8vIOe7meeItue7hOS7tuWPkemAgeS4gOS4quiHquWumuS5ieS6i+S7tgogICAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZS1hY3RpdmUnLCBpbmRleCwgZmFsc2UpOwogICAgICB9CiAgICB9LAogICAgZGVsZXRlQ2hhbm5lbDogZnVuY3Rpb24gZGVsZXRlQ2hhbm5lbChjaGFubmVsKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMDsKCiAgICAgICAgICAgICAgICBpZiAoIV90aGlzNC51c2VyKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZVVzZXJDaGFubmVsKGNoYW5uZWwuaWQpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgLy8g5pyq55m75b2VIOWwhuaVsOaNruabtOaWsOWIsOacrOWcsAogICAgICAgICAgICAgICAgc2V0SXRlbSgnVE9VVElBT19DSEFOTkVMUycsIF90aGlzNC5teUNoYW5uZWxzKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMCk7CgogICAgICAgICAgICAgICAgX3RoaXM0LiR0b2FzdCgn5pON5L2c5aSx6LSl77yM6K+356iN5ZCO6YeN6K+VJyk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIG51bGwsIFtbMCwgOV1dKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["channel-edit.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"channel-edit\">\r\n    <van-cell :border=\"false\">\r\n      <div slot=\"title\" class=\"title-text\">我的频道</div>\r\n      <van-button\r\n        class=\"edit-btn\"\r\n        type=\"danger\"\r\n        plain\r\n        round\r\n        size=\"mini\"\r\n        @click=\"isEdit = !isEdit\"\r\n        >{{ isEdit ? \"完成\" : \"编辑\" }}</van-button\r\n      >\r\n    </van-cell>\r\n    <van-grid class=\"my-grid\" :gutter=\"10\">\r\n      <van-grid-item\r\n        class=\"grid-item\"\r\n        v-for=\"(channel, index) in myChannels\"\r\n        :key=\"index\"\r\n        @click=\"onMyChannelClick(channel, index)\"\r\n      >\r\n        <!--   v-bind:class语法\r\n      一个对象，对象中的key 表示要作用的css类名\r\n      对象中的value要计算出布尔值\r\n      true，则作用该类名\r\n      false，不作用类名 -->\r\n        <van-icon\r\n          v-show=\"isEdit && !fiexdChannels.includes(channel.id)\"\r\n          name=\"clear\"\r\n          slot=\"icon\"\r\n        >\r\n        </van-icon>\r\n        <span class=\"text\" :class=\"{ active: index === active }\" slot=\"text\">\r\n          {{ channel.name }}\r\n        </span>\r\n      </van-grid-item>\r\n    </van-grid>\r\n\r\n    <!-- 频道推荐 -->\r\n    <van-cell :border=\"false\">\r\n      <div slot=\"title\" class=\"title-text\">频道推荐</div>\r\n    </van-cell>\r\n    <van-grid class=\"recommend-grid\" :gutter=\"10\">\r\n      <van-grid-item\r\n        class=\"grid-item\"\r\n        v-for=\"(channel, index) in recommendChannels\"\r\n        :key=\"index\"\r\n        icon=\"plus\"\r\n        :text=\"channel.name\"\r\n        @click=\"onAddChannel(channel)\"\r\n      />\r\n    </van-grid>\r\n    <!-- 频道推荐 -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  getAllChannels,\r\n  addUserChannel,\r\n  deleteUserChannel\r\n} from '@/api/channel'\r\n// vuex的映射方法，把容器映射到当前组件中，获取当前用户登陆状态\r\nimport { mapState } from 'vuex'\r\nimport { setItem } from '@/utils/storage'\r\nexport default {\r\n  name: 'ChannelEdit',\r\n  components: {},\r\n  props: {\r\n    myChannels: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    // 接收数据\r\n    active: {\r\n      type: Number,\r\n      required: true\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      allChannels: [], // 所有的频道\r\n      isEdit: false, // 我的频道关闭按钮\r\n      fiexdChannels: [0]\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['user']),\r\n    // 推荐频道计算属性\r\n    // 计算属性 会观测内部依赖数据的变化\r\n    // 若数据变化 则计算属性会重新执行\r\n    recommendChannels () {\r\n      return this.allChannels.filter(channel => {\r\n        return !this.myChannels.find(myChannel => {\r\n          return myChannel.id === channel.id\r\n        })\r\n      })\r\n    }\r\n\r\n    /*  recommendChannels () {\r\n       const channels = []\r\n       this.allChannels.forEach(channel => {\r\n         // find 遍历数组， 找到满足条件的元素项\r\n         const ret = this.myChannels.find(myChannel => {\r\n           return myChannel.id === channel.id\r\n         })\r\n         // 如果我的频道不包括该频道，则收集到推荐频道中\r\n         if (!ret) {\r\n           channels.push(channel)\r\n         }\r\n       })\r\n       return channels\r\n     } */\r\n  },\r\n  watch: {},\r\n  // 在created中请求调用\r\n  created () {\r\n    this.loadAllChannels()\r\n  },\r\n  mounted () { },\r\n  methods: {\r\n    // 发送请求\r\n    async loadAllChannels () {\r\n      try {\r\n        const { data } = await getAllChannels()\r\n        this.allChannels = data.data.channels\r\n      } catch (err) {\r\n        this.$toast('数据请求失败')\r\n      }\r\n    },\r\n    async onAddChannel (channel) {\r\n      this.myChannels.push(channel)\r\n\r\n      // 数据持久化处理\r\n      if (this.user) {\r\n        try {\r\n          // 登录状态  把数据请求接口放到线上\r\n          await addUserChannel([{\r\n            id: channel.id, // 频道ID\r\n            seq: this.myChannels.length // 序号\r\n          }])\r\n        } catch (err) {\r\n          this.$toast('保存失败，请稍后重试 ')\r\n        }\r\n      } else {\r\n        // 未登录状态 把数据存储到本地\r\n        setItem('TOUTIAO_CHANNELS', this.myChannels)\r\n      }\r\n    },\r\n    onMyChannelClick (channel, index) {\r\n      if (this.isEdit) {\r\n        // 1.如果是固定频道则,不删除\r\n        if (this.fiexdChannels.includes(channel.id)) {\r\n          return\r\n        }\r\n        // 2.删除频道项\r\n        this.myChannels.splice(index, 1)\r\n\r\n        // 3. 删除频道是激活项之前的\r\n        // 编辑状态 删除频道 isEdit=true\r\n        // 参数一：要删除的索引\r\n        // 参数二：要删除的个数，不指定则删除到最后\r\n        if (index <= this.acindextive) {\r\n          // 让激活的索引-1\r\n          this.$emit('update-active', this.active - 1, true)\r\n        }\r\n        // 4.持久化处理\r\n        this.deleteChannel(channel)\r\n      } else {\r\n        // 非编辑状态 切换频道  isEdit=false\r\n        // 给父组件发送一个自定义事件\r\n        this.$emit('update-active', index, false)\r\n      }\r\n    },\r\n\r\n    async deleteChannel (channel) {\r\n      try {\r\n        if (this.user) {\r\n          // 已登录 将数据更新到线上\r\n          await deleteUserChannel(channel.id)\r\n        } else {\r\n          // 未登录 将数据更新到本地\r\n          setItem('TOUTIAO_CHANNELS', this.myChannels)\r\n        }\r\n      } catch (err) {\r\n        this.$toast('操作失败，请稍后重试')\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang='less'>\r\n.channel-edit {\r\n  padding: 85px 0;\r\n\r\n  .title-text {\r\n    font-size: 32px;\r\n    color: #333;\r\n  }\r\n\r\n  .edit-btn {\r\n    width: 104px;\r\n    height: 48px;\r\n    font-size: 26px;\r\n    color: #f85959;\r\n    border: 1px solid #f85959;\r\n  }\r\n\r\n  /deep/.grid-item {\r\n    width: 160px;\r\n    height: 86px;\r\n    .van-grid-item__content {\r\n      white-space: nowrap;\r\n      background-color: #f4f5f6;\r\n      .van-grid-item__text,\r\n      .text {\r\n        font-size: 28px;\r\n        color: #222;\r\n        margin-top: 0;\r\n      }\r\n      .active {\r\n        color: red;\r\n      }\r\n      .van-grid-item__icon-wrapper {\r\n        position: unset;\r\n      }\r\n    }\r\n  }\r\n\r\n  /deep/.my-grid {\r\n    .grid-item {\r\n      .van-icon-clear {\r\n        position: absolute;\r\n        right: -10px;\r\n        top: -10px;\r\n        font-size: 30px;\r\n        color: #cacaca;\r\n        z-index: 2;\r\n      }\r\n    }\r\n  }\r\n\r\n  /deep/.recommend-grid {\r\n    .grid-item {\r\n      .van-grid-item__content {\r\n        flex-direction: row;\r\n        .van-icon-plus {\r\n          font-size: 28px;\r\n          margin-right: 6px;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views/home/components"}]}